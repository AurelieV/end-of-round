<div class="column">
    <div class="actions">
        <button 
            *ngIf="(tables$ | async) && (tables$ | async).length === 0"
            (click)="createTables()" 
            md-raised-button color="accent">Create tables</button>
        <button (click)="addOutstandings()" md-raised-button color="primary">Add outstanding</button>
        <button (click)="endRound()" md-raised-button color="warn">End round</button>
    </div>
    <div *ngIf="(outstandings$ | async)?.$value">
        <h3>Outstanding</h3>
        <div class="tables">
            <div *ngFor="let table of tables$ | async" class="table">
                <div class="header">
                    <div class="title" [ngClass]="table.status">Table {{table.$key}}</div>
                    <md-checkbox 
                        color="primary"
                        [checked]="!!table.hasResult"
                        (change)="setHasResult(table.$key, $event.checked)"></md-checkbox>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="column">
    <div class="zones">
        <zone-info 
            *ngFor="let zone of zones$ | async"
            class="zone"
            (click)="goToZone(zone.$key)"
            [zone]="zone"
            [tables]="tables$ | async"></zone-info>
    </div>
</div>

<ng-template #confirmEnd>
    <div class="confirmation">
        <h3>End round?</h3>
        <div md-dialog-content>
            Are your sure to end round? All current informations will be erased
        </div>
        <div class="actions" md-dialog-actions>
            <button md-raised-button color="warning" (click)="cancelRestart()">Cancel</button>
            <button md-raised-button color="primary" (click)="restart()">Restart</button>
        </div>
    </div>
</ng-template>